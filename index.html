<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CatchVoca Mobile Quiz - Practice your vocabulary anytime, anywhere">
  <title>CatchVoca Mobile Quiz</title>
  <link rel="stylesheet" href="style.css">

  <!-- Favicon (optional) -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“š</text></svg>">
</head>
<body>
  <div id="app">
    <!-- Loading State -->
    <div id="loading" class="state-container">
      <div class="emoji">ğŸ“š</div>
      <h2>Loading quiz...</h2>
      <p class="subtitle">Preparing your flashcards</p>
    </div>

    <!-- Error State -->
    <div id="error" class="state-container" style="display:none;">
      <div class="emoji">âš ï¸</div>
      <h2>Oops! Something went wrong</h2>
      <p id="error-message" class="subtitle"></p>
      <p class="help-text">
        Please generate a new quiz link from the CatchVoca Extension.<br>
        <small>Settings â†’ Mobile Quiz â†’ Generate Link</small>
      </p>
    </div>

    <!-- Quiz Container -->
    <div id="quiz-container" style="display:none;">
      <!-- Header -->
      <div class="header">
        <div class="logo">
          <span class="emoji">ğŸ“š</span>
          <h1>CatchVoca Quiz</h1>
        </div>
        <div class="progress">
          <span id="current">1</span> / <span id="total">0</span>
        </div>
      </div>

      <!-- Flashcard -->
      <div class="card">
        <!-- Front Side (Word) -->
        <div class="word-section">
          <h2 id="word-text" class="word-text"></h2>
          <p id="phonetic" class="phonetic"></p>
          <button id="play-audio" class="audio-btn" style="display:none;" title="Play pronunciation">
            ğŸ”Š Play
          </button>
        </div>

        <!-- Back Side (Definitions) -->
        <div class="definitions-section">
          <button id="show-answer" class="btn btn-primary">
            Show Answer
          </button>

          <div id="answer" class="answer-container" style="display:none;">
            <h3 class="definitions-title">Definitions</h3>
            <ul id="definitions-list" class="definitions-list"></ul>
          </div>
        </div>
      </div>

      <!-- Navigation Controls -->
      <div class="controls">
        <button id="prev-btn" class="btn btn-secondary" disabled>
          â† Previous
        </button>
        <button id="next-btn" class="btn btn-primary">
          Next â†’
        </button>
      </div>

      <!-- Keyboard Shortcuts Guide -->
      <div class="shortcuts-guide">
        <p>
          <kbd>â†</kbd> <kbd>â†’</kbd> Navigate â€¢
          <kbd>Space</kbd> Show/Hide Answer
        </p>
      </div>
    </div>
  </div>

  <!-- Firebase Config -->
  <script src="firebase.config.js"></script>

  <!-- Firebase SDK (CDN) -->
  <script type="module">
    // Firebase ì´ˆê¸°í™”ëŠ” quiz.jsì—ì„œ ìˆ˜í–‰
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getDatabase, ref, get } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

    // ì „ì—­ìœ¼ë¡œ export
    window.firebaseModules = { initializeApp, getDatabase, ref, get };
  </script>

  <!-- Quiz Logic -->
  <script src="quiz.js"></script>
</body>
</html>
